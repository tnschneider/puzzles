
<html>
<head>
	<title>Hopping Game</title>
</head>
<body>
	<div><div id="content">
 <div class="print" style="text-align:center;">
  <img alt="projecteuler.net" src="images/print_page_logo.png" style="border:none;"/>
 </div>
 <h2>
  Hopping Game
 </h2>
 <div class="info" id="problem_info">
  <h3>
   Problem 391
  </h3>
  <span>
   Published on Saturday, 30th June 2012, 11:00 pm; Solved by 197; Difficulty rating: 75%
  </span>
 </div>
 <div class="problem_content" role="problem">
  <p>
   Let
   <var>
    s
    <sub>
     k
    </sub>
   </var>
   be the number of 1’s when writing the numbers from 0 to
   <var>
    k
   </var>
   in binary.
   <br/>
   For example, writing 0 to 5 in binary, we have 0, 1, 10, 11, 100, 101. There are seven 1’s, so
   <var>
    s
   </var>
   <sub>
    5
   </sub>
   = 7.
   <br/>
   The sequence S = {
   <var>
    s
    <sub>
     k
    </sub>
   </var>
   :
   <var>
    k
   </var>
   ≥ 0} starts {0, 1, 2, 4, 5, 7, 9, 12, ...}.
   <br/>
  </p>
  <p>
   A game is played by two players. Before the game starts, a number
   <var>
    n
   </var>
   is chosen. A counter
   <var>
    c
   </var>
   starts at 0. At each turn, the player chooses a number from 1 to
   <var>
    n
   </var>
   (inclusive) and increases
   <var>
    c
   </var>
   by that number. The resulting value of
   <var>
    c
   </var>
   must be a member of S. If there are no more valid moves, the player loses.
  </p>
  <p>
   For example:
   <br/>
   Let
   <var>
    n
   </var>
   = 5.
   <var>
    c
   </var>
   starts at 0.
   <br/>
   Player 1 chooses 4, so
   <var>
    c
   </var>
   becomes 0 + 4 = 4.
   <br/>
   Player 2 chooses 5, so
   <var>
    c
   </var>
   becomes 4 + 5 = 9.
   <br/>
   Player 1 chooses 3, so
   <var>
    c
   </var>
   becomes 9 + 3 = 12.
   <br/>
   etc.
   <br/>
   Note that
   <var>
    c
   </var>
   must always belong to S, and each player can increase
   <var>
    c
   </var>
   by at most
   <var>
    n
   </var>
   .
  </p>
  <p>
   Let M(
   <var>
    n
   </var>
   ) be the highest number the first player can choose at her first turn to force a win, and M(
   <var>
    n
   </var>
   ) = 0 if there is no such move. For example, M(2) = 2, M(7) = 1 and M(20) = 4.
  </p>
  <p>
   Given Σ(M(
   <var>
    n
   </var>
   ))
   <sup>
    3
   </sup>
   = 8150 for 1 ≤
   <var>
    n
   </var>
   ≤ 20.
  </p>
  <p>
   Find Σ(M(
   <var>
    n
   </var>
   ))
   <sup>
    3
   </sup>
   for 1 ≤
   <var>
    n
   </var>
   ≤ 1000.
  </p>
 </div>
 <br/>
 <br/>
</div>
</div>
</body>
</html>
	