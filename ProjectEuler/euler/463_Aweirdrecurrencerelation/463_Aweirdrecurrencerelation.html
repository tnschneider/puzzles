
<html>
<head>
	<title>A weird recurrence relation</title>
</head>
<body>
	<div><div id="content">
 <div class="print" style="text-align:center;">
  <img alt="projecteuler.net" src="images/print_page_logo.png" style="border:none;"/>
 </div>
 <h2>
  A weird recurrence relation
 </h2>
 <div class="info" id="problem_info">
  <h3>
   Problem 463
  </h3>
  <span>
   Published on Saturday, 15th March 2014, 10:00 pm; Solved by 529; Difficulty rating: 30%
  </span>
 </div>
 <div class="problem_content" role="problem">
  <p>
   The function $f$ is defined for all positive integers as follows:
  </p>
  <ul>
   <li>
    $f(1)=1$
   </li>
   <li>
    $f(3)=3$
   </li>
   <li>
    $f(2n)=f(n)$
   </li>
   <li>
    $f(4n + 1)=2f(2n + 1) - f(n)$
   </li>
   <li>
    $f(4n + 3)=3f(2n + 1) - 2f(n)$
   </li>
  </ul>
  <p>
   The function $S(n)$ is defined as $\sum_{i=1}^{n}f(i)$.
  </p>
  <p>
   $S(8)=22$ and $S(100)=3604$.
  </p>
  <p>
   Find $S(3^{37})$. Give the last 9 digits of your answer.
  </p>
 </div>
 <br/>
 <br/>
</div>
</div>
</body>
</html>
	